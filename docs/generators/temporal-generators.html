<html><head><title>Test Charged: Temporal Generators</title><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="fulrich" /><meta name="description" content="Supercharge your testing" /><meta name="og:image" content="/test-charged/img/poster.png" /><meta name="og:title" content="Test Charged: Temporal Generators" /><meta name="og:site_name" content="Test Charged" /><meta name="og:url" content="https://fulrich.github.io/test-charged/" /><meta name="og:type" content="website" /><meta name="og:description" content="Supercharge your testing" /><link rel="icon" type="image/png" href="/test-charged/img/favicon.png" /><meta name="twitter:title" content="Test Charged: Temporal Generators" /><meta name="twitter:image" content="https://fulrich.github.io/test-charged/img/poster.png" /><meta name="twitter:description" content="Supercharge your testing" /><meta name="twitter:card" content="summary_large_image" /><link rel="icon" type="image/png" sizes="16x16" href="/test-charged/img/favicon16x16.png" /><link rel="icon" type="image/png" sizes="24x24" href="/test-charged/img/favicon24x24.png" /><link rel="icon" type="image/png" sizes="32x32" href="/test-charged/img/favicon32x32.png" /><link rel="icon" type="image/png" sizes="48x48" href="/test-charged/img/favicon48x48.png" /><link rel="icon" type="image/png" sizes="57x57" href="/test-charged/img/favicon57x57.png" /><link rel="icon" type="image/png" sizes="60x60" href="/test-charged/img/favicon60x60.png" /><link rel="icon" type="image/png" sizes="64x64" href="/test-charged/img/favicon64x64.png" /><link rel="icon" type="image/png" sizes="70x70" href="/test-charged/img/favicon70x70.png" /><link rel="icon" type="image/png" sizes="72x72" href="/test-charged/img/favicon72x72.png" /><link rel="icon" type="image/png" sizes="76x76" href="/test-charged/img/favicon76x76.png" /><link rel="icon" type="image/png" sizes="96x96" href="/test-charged/img/favicon96x96.png" /><link rel="icon" type="image/png" sizes="114x114" href="/test-charged/img/favicon114x114.png" /><link rel="icon" type="image/png" sizes="120x120" href="/test-charged/img/favicon120x120.png" /><link rel="icon" type="image/png" sizes="128x128" href="/test-charged/img/favicon128x128.png" /><link rel="icon" type="image/png" sizes="144x144" href="/test-charged/img/favicon144x144.png" /><link rel="icon" type="image/png" sizes="150x150" href="/test-charged/img/favicon150x150.png" /><link rel="icon" type="image/png" sizes="152x152" href="/test-charged/img/favicon152x152.png" /><link rel="icon" type="image/png" sizes="196x196" href="/test-charged/img/favicon196x196.png" /><link rel="icon" type="image/png" sizes="310x310" href="/test-charged/img/favicon310x310.png" /><link rel="icon" type="image/png" sizes="310x150" href="/test-charged/img/favicon310x150.png" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" /><link rel="stylesheet" href="/test-charged/highlight/styles/darcula.css" /><link rel="stylesheet" href="/test-charged/css/style.css" /><link rel="stylesheet" href="/test-charged/css/palette.css" /><link rel="stylesheet" href="/test-charged/css/codemirror.css" /></head><body class="docs"><div id="wrapper"><div id="sidebar-wrapper"><ul id="sidebar" class="sidebar-nav"><li class="sidebar-brand"><a href="/test-charged/" class="brand"><div class="brand-wrapper"><span>Test Charged</span></div></a></li> <li><a href="/test-charged/docs/index.html" class="">Quick Start</a></li> <li><a href="/test-charged/docs/generators/generators.html" class="">Generators</a> <ul class="sub_section"> <li><a href="/test-charged/docs/generators/string-generators.html" class="">String Generators</a></li> <li><a href="/test-charged/docs/generators/numeric-generators.html" class="">Numeric Generators</a></li> <li><a href="/test-charged/docs/generators/temporal-generators.html" class=" active ">Temporal Generators</a></li> <li><a href="/test-charged/docs/generators/other-generators.html" class="">Other Generators</a></li></ul></li></ul></div><div id="page-content-wrapper"><div class="nav"><div class="container-fluid"><div class="row"><div class="col-lg-12"><div class="action-menu pull-left clearfix"><a href="#menu-toggle" id="menu-toggle"><i class="fa fa-bars" aria-hidden="true"></i></a></div><ul class="pull-right"><li id="gh-eyes-item" class="hidden-xs"><a href="https://github.com/fulrich/test-charged"><i class="fa fa-eye"></i><span>WATCH<span id="eyes" class="label label-default">--</span></span></a></li><li id="gh-stars-item" class="hidden-xs"><a href="https://github.com/fulrich/test-charged"><i class="fa fa-star-o"></i><span>STARS<span id="stars" class="label label-default">--</span></span></a></li></ul></div></div></div></div><div id="content" data-github-owner="fulrich" data-github-repo="test-charged"><div class="content-wrapper"><section><h2 id="temporal-generators">Temporal Generators</h2>
<p>Temporal generators provide the ability to generate <a href="https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html">Java 8+ Temporal values</a>. 
These are values related to time and dates.</p>

<h3 id="temporal-api">Temporal API</h3>
<p>The Temporal generators follow the Temporal API. 
This API has three possible subsets depending on the type of temporal value being generated but all follow the same naming structure.
The Temporal API is as follows:</p>

<p>| Name            | Example Usage                      |
| ————— | ———————————- |
| Distant Past    | <code class="highlighter-rouge">Generate.localDate.distantPast</code>   |
| Past            | <code class="highlighter-rouge">Generate.localDate.past</code>          |
| Recent          | <code class="highlighter-rouge">Generate.localDate.recent</code>        |
| Default         | <code class="highlighter-rouge">Generate.localDate.default</code>       |
| Soon            | <code class="highlighter-rouge">Generate.localDate.soon</code>          |
| Future          | <code class="highlighter-rouge">Generate.localDate.future</code>        |
| Distant Future  | <code class="highlighter-rouge">Generate.localDate.distantFuture</code> |
<br />
The generation scale for each of these values is relative to the scale of Temporal value being generated.
For example:</p>

<p><code class="highlighter-rouge">Generate.localTime.distantPast</code> will be on the scale of time and therefore measured in hours.<br />
<code class="highlighter-rouge">Generate.localDateTime.distantPast</code> will be on the scale of dates and therefore measured in years.</p>

<p>As with all of the generators you can use the <code class="highlighter-rouge">apply</code> method to supply your own ranges.
In the case of the Temporal API the apply method takes two functions: <code class="highlighter-rouge">A =&gt; A</code>.
With <code class="highlighter-rouge">A</code> being the Temporal type you are generating. Use these to define relative based max and min:</p>

<div class="language-scala highlighter-rouge"><pre class="highlight"><code><span class="nc">Generate</span><span class="o">.</span><span class="n">localDate</span><span class="o">(</span><span class="n">min</span> <span class="k">=</span> <span class="k">_</span><span class="o">.</span><span class="n">minusDay</span><span class="o">(</span><span class="mi">10</span><span class="o">),</span> <span class="n">max</span> <span class="k">=</span> <span class="k">_</span><span class="o">.</span><span class="n">plusDays</span><span class="o">(</span><span class="mi">20</span><span class="o">))</span>
</code></pre>
</div>

<h3 id="date-scale-based-generators">Date Scale Based Generators</h3>
<p>There are three date scale based generators.
These are temporal generators that include a date portion.
The date scale based generators are:</p>

<p>| Name            | Example Usage                    |
| ————— | ——————————– |
| LocalDate       | <code class="highlighter-rouge">Generate.localDate.default</code>     |
| LocalDateTime   | <code class="highlighter-rouge">Generate.localDateTime.default</code> |
| ZonedDateTime   | <code class="highlighter-rouge">Generate.zonedDateTime.default</code> |
<br />
As discussed above the date scale based generators are measured in a scale of years (in the largest case).
Below are the ranges of the Temporal API for date scale based generators:</p>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Example Usage</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Distant Past</td>
      <td>Between now and 5 years in the past.</td>
    </tr>
    <tr>
      <td>Past</td>
      <td>Between now and 2 years in the past.</td>
    </tr>
    <tr>
      <td>Recent</td>
      <td>Between now and 30 days in the past.</td>
    </tr>
    <tr>
      <td>Default</td>
      <td>Between 30 days in the future and 30 days in the past.</td>
    </tr>
    <tr>
      <td>Soon</td>
      <td>Between now and 30 days in the future.</td>
    </tr>
    <tr>
      <td>Future</td>
      <td>Between now and 2 years in the future.</td>
    </tr>
    <tr>
      <td>Distant Future</td>
      <td>Between now and 5 years in the future.</td>
    </tr>
  </tbody>
</table>

<h3 id="time-scale-based-generators">Time Scale Based Generators</h3>
<p>There is only one time scale based generator.
These are temporal generators that include time but no date portion.
The time scale based generators are:</p>

<p>| Name            | Example Usage                    |
| ————— | ——————————– |
| LocalTime       | <code class="highlighter-rouge">Generate.localTime.default</code>     |
<br /></p>

<p>Time Scale generators are measured in a scale of hours (in the largest case).
Below are the ranges of the Temporal API for time scale based generators:</p>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Example Usage</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Distant Past</td>
      <td>Between now and 6 hours in the past.</td>
    </tr>
    <tr>
      <td>Past</td>
      <td>Between now and 60 minutes in the past.</td>
    </tr>
    <tr>
      <td>Recent</td>
      <td>Between now and 60 seconds in the past.</td>
    </tr>
    <tr>
      <td>Default</td>
      <td>Between 60 seconds in the future and 60 seconds in the past.</td>
    </tr>
    <tr>
      <td>Soon</td>
      <td>Between now and 60 seconds in the future.</td>
    </tr>
    <tr>
      <td>Future</td>
      <td>Between now and 60 minutes in the future.</td>
    </tr>
    <tr>
      <td>Distant Future</td>
      <td>Between now and 6 hours in the future.</td>
    </tr>
  </tbody>
</table>

<h3 id="instant-generator">Instant Generator</h3>
<p>The instant generator is a unique case within the temporal generators.
It is the generator which powers all other temporal generators in TestCharged.
It does include both date and time but it is unique in the Java 8+ temporal values.
The instant generator is below:</p>

<p>| Name            | Example Usage                    |
| ————— | ——————————– |
| Instant         | <code class="highlighter-rouge">Generate.instant.default</code>       |
<br /></p>

<p>The instant generator is unique in its Temporal API ranges.
Below are the ranges for the instant generator:</p>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Example Usage</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Distant Past</td>
      <td>Between now and 365 days in the past.</td>
    </tr>
    <tr>
      <td>Past</td>
      <td>Between now and 120 days in the past.</td>
    </tr>
    <tr>
      <td>Recent</td>
      <td>Between now and 30 days in the past.</td>
    </tr>
    <tr>
      <td>Default</td>
      <td>Between 30 days in the future and 30 days in the past.</td>
    </tr>
    <tr>
      <td>Soon</td>
      <td>Between now and 30 days in the future.</td>
    </tr>
    <tr>
      <td>Future</td>
      <td>Between now and 120 days in the future.</td>
    </tr>
    <tr>
      <td>Distant Future</td>
      <td>Between now and 265 dats in the future.</td>
    </tr>
  </tbody>
</table>

<h2 id="now-provider">Now Provider</h2>
<p>The default Temporal API is a relative based system. 
All dates are generated based off of <code class="highlighter-rouge">now</code>.
Now is determined by an object called a <code class="highlighter-rouge">NowProvider</code>.
By default the <code class="highlighter-rouge">NowProvider</code> will define now using <code class="highlighter-rouge">Clock.systemDefaultZone</code>.
This can be overridden using the <code class="highlighter-rouge">NowDsl</code>.</p>

<div class="language-scala highlighter-rouge"><pre class="highlight"><code><span class="k">import</span> <span class="nn">com.github.fulrich.testcharged.generators._</span>

<span class="k">class</span> <span class="nc">TemporalTesting</span> <span class="k">extends</span> <span class="nc">FunSuite</span> <span class="k">with</span> <span class="nc">Matchers</span> <span class="o">{</span>
  <span class="c1">// Define a NowProvider implicitly for this test suite
</span>  <span class="c1">// Generated will use this implicit NowProvider within this test
</span>  <span class="k">implicit</span> <span class="k">val</span> <span class="n">nowForSuite</span> <span class="k">=</span> <span class="n">now</span><span class="o">(</span><span class="nc">LocalDateTime</span><span class="o">.</span><span class="n">of</span><span class="o">(</span><span class="mi">2018</span><span class="o">,</span> <span class="nc">Month</span><span class="o">.</span><span class="nc">JUNE</span><span class="o">,</span> <span class="mi">20</span><span class="o">,</span> <span class="mi">10</span><span class="o">,</span> <span class="mi">30</span><span class="o">))</span>

  <span class="n">test</span><span class="o">(</span><span class="s">"Override this test only based now provider"</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// For this test I want to use a one time now provider for this case.
</span>    <span class="c1">// I can define it and use it right here
</span>    <span class="nc">Generate</span><span class="o">.</span><span class="n">localDateTime</span><span class="o">.</span><span class="n">distantPast</span><span class="o">(</span><span class="n">now</span><span class="o">(</span><span class="nc">LocalDateTime</span><span class="o">.</span><span class="n">of</span><span class="o">(</span><span class="mi">1990</span><span class="o">,</span> <span class="nc">Month</span><span class="o">.</span><span class="nc">AUGUST</span><span class="o">,</span> <span class="mi">20</span><span class="o">,</span> <span class="mi">10</span><span class="o">,</span> <span class="mi">10</span><span class="o">)))</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<p>If you have a more complex case you can override NowProvider directly instead of using the <code class="highlighter-rouge">NowDsl</code> helper.</p>
<div class="language-scala highlighter-rouge"><pre class="highlight"><code><span class="k">import</span> <span class="nn">com.github.fulrich.testcharged.generators._</span>

<span class="k">class</span> <span class="nc">TemporalTesting</span> <span class="k">extends</span> <span class="nc">FunSuite</span> <span class="k">with</span> <span class="nc">Matchers</span> <span class="o">{</span>
  <span class="c1">// Define an entire NowProvider to handle any other cases you might encounter
</span>  <span class="k">implicit</span> <span class="k">val</span> <span class="n">nowForSuite</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">NowProvider</span> <span class="o">{</span>
    <span class="k">def</span> <span class="n">apply</span><span class="o">()</span><span class="k">:</span> <span class="kt">Clock</span> <span class="o">=</span> 
      <span class="nc">Clock</span><span class="o">.</span><span class="n">fixed</span><span class="o">(</span><span class="nc">LocalDateTime</span><span class="o">.</span><span class="n">of</span><span class="o">(</span><span class="mi">2018</span><span class="o">,</span> <span class="nc">Month</span><span class="o">.</span><span class="nc">JUNE</span><span class="o">,</span> <span class="mi">20</span><span class="o">,</span> <span class="mi">10</span><span class="o">,</span> <span class="mi">30</span><span class="o">).</span><span class="n">toInstant</span><span class="o">(</span><span class="nc">ZoneOffset</span><span class="o">.</span><span class="nc">UTC</span><span class="o">),</span> <span class="nc">ZoneOffset</span><span class="o">.</span><span class="nc">UTC</span><span class="o">)</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>
</section></div></div></div></div><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script><script src="/test-charged/highlight/highlight.pack.js"></script><script>hljs.configure({languages:['scala','java','bash']});
hljs.initHighlighting();
              </script><script src="/test-charged/js/main.js"></script></body></html>